LEKTION 5 ‚Äì DIE MASCHINENFABRIK: F√ñRDERB√ÑNDER (PIPES) üè≠‚û°Ô∏èüè≠

GESCHICHTE

In der Maschinenfabrik laufen viele kleine Maschinen gleichzeitig.
Jede Maschine kann nur EINE Sache gut:
- eine Maschine produziert Text
- eine Maschine filtert Text
- eine Maschine z√§hlt Text
- eine Maschine schreibt Text in eine Datei

Die Sekret√§rin der Fabrik braucht einen Bericht.
Papa meint: ‚ÄûDas ist ein Job f√ºr dich!‚Äú

Heute lernst du das F√∂rderband-Symbol:
|   (Pipe)

Damit kannst du Maschinen miteinander verbinden.

========================================
SPIEL STARTEN / ZUR√úCKSETZEN

Spiel vorbereiten:
bash spiel-vorbereiten.sh

Wenn etwas schief geht:
bash neustart.sh

========================================
ERKL√ÑRUNG ‚Äì DIE IDEE DER MASCHINEN

Stell dir Befehle als Maschinen vor:

1) PRODUZIEREN (Text kommt raus)
   Beispiel: cat DATEI

2) FILTER (Text wird weniger)
   Beispiel: grep SUCHWORT

3) Z√ÑHLER (Text wird zu einer Zahl)
   Beispiel: wc -l

Eine Pipe | ist wie ein F√∂rderband:
Der Text, der links herauskommt, wird rechts hineingeschoben.

Beispiel:
cat roboter-01.log | grep FEHLER

========================================
NEU HEUTE: PIPE, >, >>, wc

|  (Pipe = F√∂rderband)
AUFBAU: BEFEHL | BEFEHL
- links kommt Text raus
- rechts geht Text rein

>  (umleiten = schreiben)
AUFBAU: BEFEHL > DATEI
- schreibt Ergebnis in DATEI (√ºberschreibt die Datei)

>> (anh√§ngen)
AUFBAU: BEFEHL >> DATEI
- h√§ngt Ergebnis unten an (Datei bleibt erhalten)

wc  (word count = z√§hlen)
AUFBAU: wc -l
- wc -l z√§hlt Zeilen
Wichtig:
wc kann Text √ºber eine Pipe bekommen!

Beispiele:
cat roboter-01.log | wc -l
cat roboter-01.log | grep FEHLER | wc -l

========================================
AUFGABEN (SIEGBEDINGUNGEN)

Im Ordner spiel/logs liegen viele Log-Dateien:
roboter-01.log, roboter-02.log, ...

Dein Ziel ist ein Bericht im Ordner:
spiel/bericht/

1) Erstelle die Datei:
spiel/bericht/diagnose.txt

2) diagnose.txt muss genau diese 3 Zeilen enthalten:
WARNUNGEN: <ZAHL>
FEHLER: <ZAHL>
OK: <ZAHL>

Dabei gilt:
- WARNUNG z√§hlt alle Zeilen, die das Wort WARNUNG enthalten
- FEHLER z√§hlt alle Zeilen, die das Wort FEHLER enthalten
- OK z√§hlt alle Zeilen, die das Wort OK enthalten

TIPP (Maschinen-Denken):
- cat produziert Text aus vielen Dateien (Wildcard!)
- grep filtert nur passende Zeilen
- wc -l z√§hlt die Zeilen
- > schreibt die erste Zeile in die Datei
- >> h√§ngt weitere Zeilen an

Beispiel-Idee (nur als Form, nicht als L√∂sung):
echo "WARNUNGEN: 123" > spiel/bericht/diagnose.txt
echo "FEHLER: 45" >> spiel/bericht/diagnose.txt
echo "OK: 678" >> spiel/bericht/diagnose.txt

========================================
SICHERHEITS-TRICK

Bevor du in eine Datei schreibst, schau dir die Zahl erst im Terminal an:
cat spiel/logs/roboter-*.log | grep WARNUNG | wc -l

Erst wenn die Zahl stimmt, schreib sie in diagnose.txt.

========================================
PR√úFEN

Wenn du glaubst, du bist fertig:
bash l√∂sen.sh

Das Skript zeigt dir ‚úÖ/‚ùå und Tipps.
