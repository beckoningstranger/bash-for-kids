LEKTION 8 â€“ DER ZAUBERER VERÃ„NDERT DIE GESCHICHTE âœ¨ğŸ“–
SED (S/ALT/NEU/)

GESCHICHTE

In der Fabrik gibt es jetzt einen Zauberer.
Er darf keine neue Geschichte schreiben.
Er darf nur ZAUBER-WORTTAUSCH machen.

Die SekretÃ¤rin sagt:
â€Mach die Geschichte lustiger und moderner â€“ aber ohne alles neu zu tippen!â€œ

Papa meint:
â€Das geht. Mit sed.â€œ

------------------------------------------------------------

SPIEL STARTEN / ZURÃœCKSETZEN

Diese Lektion hat KEIN groÃŸes Spiel.
Du arbeitest nur mit Text-Dateien.

Wenn du wieder von vorne anfangen willst:
bash neustart.sh

------------------------------------------------------------

WAS IST sed?

sed ist eine Textâ€‘Maschine.
Sie liest Text und kann ihn automatisch verÃ¤ndern.

Der wichtigste Zauber in sed heiÃŸt:
s/ALT/NEU/

Das bedeutet:
Ersetze ALT durch NEU.

------------------------------------------------------------

Nach diesem Zauberspruch kannst du noch das Verhalten von sed Ã¤ndern, Ã¤hnlich wie mit Flags:

Wenn du /g dazu schreibst, bedeutet das:
â€Nicht nur einmal â€“ sondern Ã¼berall in jeder Zeile.â€œ

Beispiel:
sed 's/Wald/Schule/g' spiel/haensel-und-gretel.txt

------------------------------------------------------------

Wenn du /i benutzt, bedeutet das:
"Ignoriere GroÃŸ- und Kleinschreibung."

Beispiel:
sed 's/Wald/Schule/i' spiel/haensel-und-gretel.txt

So ersetzt du nicht nur Wald, sonder auch wAld, WALd, WALD, walD, usw.

------------------------------------------------------------
Diese Flags kannst du auch kombinieren.

Beispiel:
sed 's/Wald/Schule/gi' spiel/haensel-und-gretel.txt

Das bedeutet: Ersetze alle 'wald', egal mit welcher GroÃŸ- oder Kleinschreibung im Text.

------------------------------------------------------------

TIPP â€“ Mehrere Zauber in einem sed-Befehl âœ¨
Manchmal mÃ¶chtest du mehr als ein Wort verÃ¤ndern.
Zum Beispiel mehrere Namen oder Orte.

DafÃ¼r musst du sed nicht mehrfach hintereinander starten.
Du kannst mehrere Ersetzungen in einem einzigen sed-Befehl machen.

Es gibt dafÃ¼r zwei gleichwertige MÃ¶glichkeiten.

------------------------------------------------------------

MÃ–GLICHKEIT 1 â€“ Mit mehreren -e Teilen

Jedes -e ist ein eigener kleiner Zauber.

Beispiel:

sed -e 's/HÃ¤nsel/Jakob/gi' \
    -e 's/Gretel/Sophia/gi' \
    spiel/haensel-und-gretel.txt

------------------------------------------------------------

MÃ–GLICHKEIT 2 - Mehrere s/.../.../ in einem Text

Du kannst auch mehrere Ersetzungen hintereinander schreiben
und sie mit einem Semikolon ; trennen.

Beispiel:

sed 's/HÃ¤nsel/Jakob/gi; s/Gretel/Sophia/gi' spiel/haensel-und-gretel.txt

Das Ergebnis ist genau dasselbe wie bei der ersten MÃ¶glichkeit.

------------------------------------------------------------

Wichtig:
- sed verÃ¤ndert eine Datei NICHT automatisch.
- Es zeigt das Ergebnis im Terminal.
- Wenn du eine neue Datei willst, benutzt du >

Beispiel:
sed 's/Wald/Schule/g' spiel/haensel-und-gretel.txt > spiel/neue-geschichte.txt

------------------------------------------------------------

DEINE AUFGABE

Du sollst eine neue Version der Geschichte erzeugen:
spiel/neue-geschichte.txt

Dazu sollst du dein eigenes Skript benutzen:
zauber.sh

1) Ã–ffne die Geschichte (nur anschauen):
less spiel/haensel-und-gretel.txt

2) Bearbeite zauber.sh so, dass es:
- die Originaldatei nimmt
- mit sed mehrere Dinge verÃ¤ndert
- eine neue Datei schreibt

------------------------------------------------------------

WAS SOLL VERÃ„NDERT WERDEN? (4 Zauber)

Mach genau diese 4 VerÃ¤nderungen:

1) Namen tauschen:
HÃ¤nsel -> Jakob

2) Namen tauschen:
Gretel -> Sophia

3) Ort modernisieren:
Walde -> Stadtpark

4) Technik-Zauber:
Brot -> Pizza

Tipp:
Du kannst mehrere Ersetzungen in einem sedâ€‘Befehl machen.
Zum Beispiel mit mehreren -e Teilen oder mit mehreren s/.../.../; s/.../.../

------------------------------------------------------------

SICHERHEITS-TRICK

Teste erst im Terminal, ob dein sed-Zauber richtig aussieht,
bevor du ihn in eine Datei schreibst:

sed 's/.../.../g' spiel/haensel-und-gretel.txt | less

(Heute darfst du Pipes benutzen â€“ du kannst aber auch einfach ohne less testen.)

------------------------------------------------------------

PRÃœFEN

Wenn du glaubst, du bist fertig:
bash lÃ¶sen.sh

lÃ¶sen.sh prÃ¼ft:
- ob neue-geschichte.txt existiert
- ob alle 4 VerÃ¤nderungen drin sind
- ob alte WÃ¶rter wirklich weg sind
- und schreibt danach dein Bashâ€‘Lexikon neu (inkl. sed)
